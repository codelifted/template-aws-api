{
    "name": "template-aws-api",
    "version": "1",
    "platform": "aws",
    "postgres": true,
    "dynamodb": {
        "table": "workspace",
        "attributes": "AttributeName=workspace_id,AttributeType=S",
        "key_schema": "AttributeName=workspace_id,KeyType=HASH"
    },
    "resources": [
        {
            "name": "api",
            "module": "aws-api"
        },
        {
            "name": "get",
            "module": "aws-lambda",
            "test": true
        },
        {
            "name": "list",
            "module": "aws-lambda",
            "test": true
        }
    ],
    "auth": {
        "username": "andkho",
        "password": "AndKho49",
        "user_pool_name": "Customers",
        "client_name": "customers"
    },
    "curl": [
        {
            "name": "Get-OK",
            "method": "GET",
            "path": "/workspace/ce6e889c-2e4d-41fe-8b2f-19438d046bcf",
            "assert": 200,
            "body": "",
            "live": false
        },
        {
            "name": "Get-Incorrect-Workspace-Id",
            "method": "GET",
            "path": "/workspace/ce6e889c-2e4d-41fe",
            "assert": 400,
            "body": "",
            "live": false
        }
    ],
    "pipeline": [
        {
            "step": 1,
            "action": "test-schema"
        },
        {
            "step": 2,
            "action": "test-code"
        },
        {
            "step": 3,
            "action": "test-mock"
        },
        {
            "step": 4,
            "action": "code-build"
        },
        {
            "step": 5,
            "action": "code-push"
        },
        {
            "step": 6,
            "action": "infra-deploy"
        },
        {
            "step": 7,
            "action": "update-schema"
        },
        {
            "step": 8,
            "action": "test-live"
        },
        {
            "step": 9,
            "action": "rollback-schema"
        },
        {
            "step": 10,
            "action": "infra-destroy"
        }
    ]
}